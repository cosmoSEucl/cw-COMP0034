{% extends "layout.html" %}
{% block title %}Advanced Data Visualization{% endblock %}
{% block content %}
<h1>Advanced Data Visualization</h1>
<p class="lead">Explore our comprehensive interactive dashboard for in-depth analysis of GLA grant data.</p>

<div class="row">
    <div class="col-md-12">
        <div class="card mb-4">
            <div class="card-body p-0" style="background-color: white;">
                <!-- Embed the Dash app in an iframe -->
                <iframe 
                    src="/dash/" 
                    style="width: 100%; height: 800px; border: none; overflow: hidden; background-color: white;"
                    title="GLA Grants Dashboard"
                    id="dash-iframe">
                </iframe>
            </div>
        </div>
    </div>
</div>

<script>
    // Adjust iframe height based on window size
    function adjustIframeHeight() {
        const iframe = document.getElementById('dash-iframe');
        const windowHeight = window.innerHeight;
        iframe.style.height = (windowHeight - 200) + 'px'; // Subtract header height and some padding
    }
    
    // Call on load and when window is resized
    window.addEventListener('load', adjustIframeHeight);
    window.addEventListener('resize', adjustIframeHeight);
</script>
{% endblock %}